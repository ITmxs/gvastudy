!function(){function t(t,r,n,e,i,a,o){try{var u=t[a](o),h=u.value}catch(c){return void n(c)}u.done?r(h):Promise.resolve(h).then(e,i)}function r(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(!t)return;if("string"==typeof t)return n(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return n(t,r)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}System.register(["./authority-legacy.30081820.js","./warningBar-legacy.8bc98fe0.js","./index-legacy.2b2c1438.js","./vendor-legacy.89c3086c.js"],(function(n){"use strict";var e,i,a,o,u,h,c,s,d,l,f,y,m,A;return{setters:[function(t){e=t.s},function(t){i=t.w},function(t){a=t._},function(t){o=t.r,u=t.o,h=t.f,c=t.k,s=t.g,d=t.w,l=t.F,f=t.A,y=t.s,m=t.x,A=t.u}],execute:function(){var p={name:"Datas",components:{warningBar:i},props:{row:{default:function(){return{}},type:Object},authority:{default:function(){return[]},type:Array}},data:function(){return{authoritys:[],dataAuthorityId:[],needConfirm:!1}},created:function(){var t=this;this.authoritys=[],this.dataAuthorityId=[],this.roundAuthority(this.authority),this.row.dataAuthorityId&&this.row.dataAuthorityId.forEach((function(r){var n=t.authoritys&&t.authoritys.filter((function(t){return t.authorityId===r.authorityId}))&&t.authoritys.filter((function(t){return t.authorityId===r.authorityId}))[0];t.dataAuthorityId.push(n)}))},methods:{enterAndNext:function(){this.authDataEnter()},all:function(){this.dataAuthorityId=r(this.authoritys),this.$emit("changeRow","dataAuthorityId",this.dataAuthorityId),this.needConfirm=!0},self:function(){var t=this;this.dataAuthorityId=this.authoritys.filter((function(r){return r.authorityId===t.row.authorityId})),this.$emit("changeRow","dataAuthorityId",this.dataAuthorityId),this.needConfirm=!0},selfAndChildren:function(){var t=[];this.getChildrenId(this.row,t),this.dataAuthorityId=this.authoritys.filter((function(r){return t.indexOf(r.authorityId)>-1})),this.$emit("changeRow","dataAuthorityId",this.dataAuthorityId),this.needConfirm=!0},getChildrenId:function(t,r){var n=this;r.push(t.authorityId),t.children&&t.children.forEach((function(t){n.getChildrenId(t,r)}))},authDataEnter:function(){var r,n=this;return(r=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n.row);case 2:0===t.sent.code&&n.$message({type:"success",message:"资源设置成功"});case 4:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(i,a){var o=r.apply(n,e);function u(r){t(o,i,a,u,h,"next",r)}function h(r){t(o,i,a,u,h,"throw",r)}u(void 0)}))})()},roundAuthority:function(t){var r=this;t&&t.forEach((function(t){var n={};n.authorityId=t.authorityId,n.authorityName=t.authorityName,r.authoritys.push(n),t.children&&t.children.length&&r.roundAuthority(t.children)}))},selectAuthority:function(){this.$emit("changeRow","dataAuthorityId",this.dataAuthorityId),this.needConfirm=!0}}},I={class:"clearflex",style:{margin:"18px"}},g=y("确 定"),v=y("全选"),w=y("本角色"),C=y("本角色及子角色");n("default",a(p,[["render",function(t,r,n,e,i,a){var p=o("el-button"),b=o("el-checkbox"),k=o("el-checkbox-group"),x=o("warning-bar");return u(),h("div",null,[c("div",I,[s(p,{class:"fl-right",size:"mini",type:"primary",onClick:a.authDataEnter},{default:d((function(){return[g]})),_:1},8,["onClick"]),s(p,{class:"fl-left",size:"mini",type:"primary",onClick:a.all},{default:d((function(){return[v]})),_:1},8,["onClick"]),s(p,{class:"fl-left",size:"mini",type:"primary",onClick:a.self},{default:d((function(){return[w]})),_:1},8,["onClick"]),s(p,{class:"fl-left",size:"mini",type:"primary",onClick:a.selfAndChildren},{default:d((function(){return[C]})),_:1},8,["onClick"])]),s(k,{modelValue:i.dataAuthorityId,"onUpdate:modelValue":r[0]||(r[0]=function(t){return i.dataAuthorityId=t}),onChange:a.selectAuthority},{default:d((function(){return[(u(!0),h(l,null,f(i.authoritys,(function(t,r){return u(),m(b,{key:r,label:t},{default:d((function(){return[y(A(t.authorityName),1)]})),_:2},1032,["label"])})),128))]})),_:1},8,["modelValue","onChange"]),s(x,{title:"此功能仅用于创建角色和角色的many2many关系表，具体使用还须自己结合表实现业务，详情参考示例代码（客户示例）"})])}]]))}}}))}();
