import{i as e}from"./initdb.52cd7f19.js";import{_ as l}from"./index.bf0eadd2.js";import{r as a,o,f as t,k as d,g as r,w as s,s as m}from"./vendor.ab24dc3f.js";const n={name:"Init",data:()=>({form:{sqlType:"mysql",host:"127.0.0.1",port:"3306",userName:"root",password:"",dbName:"gva"}}),methods:{onSubmit(){return l=this,a=null,o=function*(){const l=this.$loading({lock:!0,text:"正在初始化数据库，请稍候",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});try{const a=yield e(this.form);0===a.code&&(this.$message({type:"success",message:a.msg}),this.$router.push({name:"Login"})),l.close()}catch(a){l.close()}},new Promise(((e,t)=>{var d=e=>{try{s(o.next(e))}catch(l){t(l)}},r=e=>{try{s(o.throw(e))}catch(l){t(l)}},s=l=>l.done?e(l.value):Promise.resolve(l.value).then(d,r);s((o=o.apply(l,a)).next())}));var l,a,o}}},u={class:"init"},i=d("p",{class:"in-one a-fadeinT"},"欢迎使用GIN-VUE-ADMIN",-1),f=d("p",{class:"in-two a-fadeinT"},"您需要初始化您的数据库并且填充初始数据",-1),p={class:"form-card in-three a-fadeinB"},c={style:{"text-align":"right"}},h=m("立即初始化");var b=l(n,[["render",function(e,l,m,n,b,V){const y=a("el-option"),g=a("el-select"),v=a("el-form-item"),_=a("el-input"),N=a("el-button"),w=a("el-form");return o(),t("div",u,[i,f,d("div",p,[r(w,{ref:"form",model:b.form,"label-width":"100px"},{default:s((()=>[r(v,{label:"数据库类型"},{default:s((()=>[r(g,{modelValue:b.form.sqlType,"onUpdate:modelValue":l[0]||(l[0]=e=>b.form.sqlType=e),disabled:"",placeholder:"请选择"},{default:s((()=>[r(y,{key:"mysql",label:"mysql(目前只支持mysql)",value:"mysql"})])),_:1},8,["modelValue"])])),_:1}),r(v,{label:"host"},{default:s((()=>[r(_,{modelValue:b.form.host,"onUpdate:modelValue":l[1]||(l[1]=e=>b.form.host=e),placeholder:"请输入数据库链接"},null,8,["modelValue"])])),_:1}),r(v,{label:"port"},{default:s((()=>[r(_,{modelValue:b.form.port,"onUpdate:modelValue":l[2]||(l[2]=e=>b.form.port=e),placeholder:"请输入数据库端口"},null,8,["modelValue"])])),_:1}),r(v,{label:"userName"},{default:s((()=>[r(_,{modelValue:b.form.userName,"onUpdate:modelValue":l[3]||(l[3]=e=>b.form.userName=e),placeholder:"请输入数据库用户名"},null,8,["modelValue"])])),_:1}),r(v,{label:"password"},{default:s((()=>[r(_,{modelValue:b.form.password,"onUpdate:modelValue":l[4]||(l[4]=e=>b.form.password=e),placeholder:"请输入数据库密码（没有则为空）"},null,8,["modelValue"])])),_:1}),r(v,{label:"dbName"},{default:s((()=>[r(_,{modelValue:b.form.dbName,"onUpdate:modelValue":l[5]||(l[5]=e=>b.form.dbName=e),placeholder:"请输入数据库名称"},null,8,["modelValue"])])),_:1}),r(v,null,{default:s((()=>[d("div",c,[r(N,{type:"primary",onClick:V.onSubmit},{default:s((()=>[h])),_:1},8,["onClick"])])])),_:1})])),_:1},8,["model"])])])}]]);export{b as default};
